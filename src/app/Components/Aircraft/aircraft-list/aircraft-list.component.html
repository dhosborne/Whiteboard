<div class="container card-list">
    <div class="row">
        <div class="col-auto mr-auto">
            <h4>Aircrafts</h4>
        </div>
        <div class="col-auto"><a [routerLink]="['/aircrafts/inactive']" ><small><em>Looking for an inactive aircraft?</em></small></a></div>
        <div class="col-auto">
            <a [routerLink]="['/aircrafts/new']">
                <i class="material-icons">
                    add_circle_outline
                </i>
            </a>
        </div>
    </div>
    <div class="row">
        <ul class="nav nav-tabs">
            <ng-container *ngFor="let av of aircraftList">
                <li class="nav-item" >
                    <a class="nav-link"
                        [ngClass]="{
                            'active': av.tailNumber === tailSelected,
                            '': av.tailNumber !== tailSelected
                        }"
                    (click)="tabSelected(av.tailNumber)">{{av.tailNumber}}</a>
                </li>
            </ng-container>
        </ul>
    </div>
    <div class="row">
        <div id="tabContent" class="tab-content" *ngIf="aircraft; else nothing">
            <div class="card text-white bg-primary mb-3 card-list">
                <div class="card-header">
                    <div class="row" (dblclick)="aircraftClicked(aircraft._id)">
                        <div class="col-auto mr-auto">
                            {{aircraft?.tailNumber}}
                        </div>
                        <div class="col-auto">
                            Batts Due: {{aircraft?.reconDate | moment: [28, 'days'] | date: 'MM/dd'}}
                        </div>
                    </div>                    
                </div>

                <div class="card-body" #body>
                    <div class="row">
                        <div class="col-auto mr-auto"><legend>Issues</legend></div>
                        <div class="col-auto">
                            <a [routerLink]="['/issues/new']" routerLinkActive="router-link-active" >
                                <i class="material-icons">add</i>New
                            </a>
                        </div>
                    </div>
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Tile</th>
                                <th>Date</th>
                                <th>Completed</th>
                            </tr>
                        </thead>
                        <tbody>
                            <ng-container *ngFor="let issue of issuesList">
                                <tr *ngIf="!issue.completed" (dblclick)="issueClicked(issue._id)">
                                    <td>{{issue.title}}</td>
                                    <td>{{issue.date}}</td>
                                    <td>{{issue.completed}}</td>
                                </tr>                                    
                            </ng-container>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <ng-template #nothing>
            <h6><em>Select a tab to display aircraft info</em></h6>
        </ng-template>
    </div>
</div>